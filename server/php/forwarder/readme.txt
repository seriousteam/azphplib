Форвардилка

Файлы и что делают:

target.php - скрипт для тестов, выводит простенькую html страничку с задержкой в несколько минут.

forwarder.php - скрипт который занимается приемом запросов и выдачей ответа. Приняв запрос,
создает временный файл, в который скидывает содержимое $_GET, $_POST, $_COOKIES, $_SERVER.
Затем запускает в консоли resulter.php, который в свою очередь запускает требуемый скрипт. 
Сделав выше перечисленное, скрипт создает ссылку для получения результата и редиректит пользователя.
Пользователь реглярно делает рефреш по ссылке и как только скрипт находит требуемый результат - выдает 
пользователю. Получая запрос на выдачу, если ответ не готов, скрипт заодно просматривает папку с результатами
и удаляет старые файлы оставшиеся в результате каких либо ошибок, например, если юзер не дождался выдачи результата 
и т.д. (время "жизни" файлов определяется в forwd-defs.php). После выдачи результата, файл результата так же удаляется.
Что нужно forwarder-у, пример строки
http://localhost/forward/forwarder.php?fwdrez_header=text/html&fwdrez_scr=target.php&param1=dfdfg&param2=еноты полоскуны
fwdrez_header - отвечает за вид возвращаемого заголовка Content-type: fwdrez_header
fwdrez_scr - имя скрипта, который надо запустить и которому будут переданы параметры
fwdrez_savename - имя для сохраняемого файла с результатами (если нужно положить результат в файл)
param1 и param2 просто для примера, будут переданы скрипту fwdrez_scr
Сами строки параметров "fwdrez_header" и "fwdrez_scr" определены в forwd-defs.php, который инклюдится в
forwarder.php, там можно изменить строки на более подходящие, если требуется.
После редиректа за ответом, адрес принимает вид:
http://localhost/forward/forwarder.php?fwdrez_get=234.tmp&fwdrez_header=text/html
fwdrez_get - имя файла являющимся результатом действия скрипта.

executer.php - исполняемый скрипт, инклюдит файл с переменными и инклюдит файл запускаемого скрипта

forwd-defs.php - различные дефайны и переменные используемые в forwarder.php и resulter.php